<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Material Emission Calculator</title>
<link rel="stylesheet" href="styles.css">
</head>
<body>
<div class="container">
    <h1>Material Emission Comparison</h1>
    <form id="emissionForm">
      <div class="inputs-container">
        <div class="material-input">
          <label for="materialSelect1">Select Material 1:</label>
          <select id="materialSelect1" onchange="updateUnits(1)">
            <!-- Options will be populated by JavaScript -->
          </select>
          <input type="number" id="amount1" placeholder="Enter Amount" required>
          <select id="unitType1">
            <!-- Units will be updated based on selection -->
          </select>
        </div>
        <div class="material-input">
          <label for="materialSelect2">Select Material 2:</label>
          <select id="materialSelect2" onchange="updateUnits(2)">
            <!-- Options will be populated by JavaScript -->
          </select>
          <input type="number" id="amount2" placeholder="Enter Amount" required>
          <select id="unitType2">
            <!-- Units will be updated based on selection -->
          </select>
        </div>
      </div>
      <button type="button" onclick="calculateEmissions()">Compare Emissions</button>
    </form>

    <div class="results">
      <div id="result1"></div>
      <div id="result2"></div>
    </div>
    <!-- This is where the canvas will be dynamically added -->
    <div id="chartContainer"></div>
</div>

<script src="app.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/3.7.0/chart.min.js"></script>
<script>
  // Dynamically create the canvas element
  const canvas = document.createElement('canvas');
  canvas.id = 'myChart';
  
  // Append the canvas to the chartContainer div
  document.getElementById('chartContainer').appendChild(canvas);

  // JavaScript code to initialize and render the chart using Chart.js
  const ctx = document.getElementById('myChart');

  new Chart(ctx, {
    type: 'bar',
    data: {
      labels: ['Material 1', 'Material 2'],
      datasets: [{
        label: 'CO2 Emissions (kg CO2e)',
        data: [0, 0], // Default data, will be updated dynamically
        backgroundColor: [
          'rgba(255, 99, 132, 0.2)',
          'rgba(54, 162, 235, 0.2)'
        ],
        borderColor: [
          'rgba(255, 99, 132, 1)',
          'rgba(54, 162, 235, 1)'
        ],
        borderWidth: 1
      }]
    },
    options: {
      scales: {
        y: {
          beginAtZero: true
        }
      }
    }
  });
</script>
</body>
</html>
